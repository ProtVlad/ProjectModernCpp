#include "Words.h"
import utils;

void populateListWords(Storage& storage)
{
	std::vector<Words> words{
		Words{-1,"trandafir",100},
		Words{-1,"artificii",150},
		Words{-1,"cuptor cu microunde",150},
		Words{-1,"clovn",150},
		Words{-1,"cuvant",50},
		Words{-1,"limba",50},
		Words{-1,"calcultator",150},
		Words{-1,"Traian Basescu",50},
		Words{-1,"caseta",100},
		Words{-1,"buton",150},
		Words{-1,"grafic",150},
		Words{-1,"schema",50},
		Words{-1,"litera",50},
		Words{-1,"matematica",150},
		Words{-1,"profesor",150},
		Words{-1,"cana",150},
		Words{-1,"cafea",150},
		Words{-1,"Google",150},
		Words{-1,"ochelari",150},
		Words{-1,"oftalmolog",100},
		Words{-1,"dentist",150},
		Words{-1,"telefon fix",150},
		Words{-1,"sticla",100},
		Words{-1,"servetel",100},
		Words{-1,"raceala",100},
		Words{-1,"nervos",50},
		Words{-1,"bucle",100},
		Words{-1,"frizerie",150},
		Words{-1,"lumina",50},
		Words{-1,"arhitect",100},
		Words{-1,"programator",150},
		Words{-1,"sofer",150},
		Words{-1,"masina",150},
		Words{-1,"autobuz scolar",150},
		Words{-1,"camera video",100},
		Words{-1,"botez",100},
		Words{-1,"mireasa",150},
		Words{-1,"bebelus",150},
		Words{-1,"covrig",100},
		Words{-1,"creioane colorate",150},
		Words{-1,"tablou",100},
		Words{-1,"violet",50},
		Words{-1,"trandafiriu",50},
		Words{-1,"rebus",50},
		Words{-1,"Kaufland",150},
		Words{-1,"setari",50},
		Words{-1,"Victor Ponta",50},
		Words{-1,"rulouri",100},
		Words{-1,"Selly",50},
		Words{-1,"tigaie",150},
		Words{-1,"geometrie",100},
		Words{-1,"gnom",50},
		Words{-1,"avizier",100},
		Words{-1,"oglinda",150},
		Words{-1,"Aurora Boreala",100},
		Words{-1,"dolar",150},
		Words{-1,"cabana",100},
		Words{-1,"curcubeu",150},
		Words{-1,"veioza",150},
		Words{-1,"suc",150},
		Words{-1,"acnee",150},
		Words{-1,"aparat dentar",100},
		Words{-1,"miopie",50},
		Words{-1,"adolescent",50},
		Words{-1,"ghiozdan",150},
		Words{-1,"pusca",50},
		Words{-1,"palarie",150},
		Words{-1,"curea",150},
		Words{-1,"ghilotina",100},
		Words{-1,"ascensor",100},
		Words{-1,"convexitate",100},
		Words{-1,"descendent",50},
		Words{-1,"peste",150},
		Words{-1,"RAM",50},
		Words{-1,"instalator",100},
		Words{-1,"plata",50},
		Words{-1,"ciob",50},
		Words{-1,"trabuc",100},
		Words{-1,"uscat",50},
		Words{-1,"umed",50},
		Words{-1,"mar",150},
		Words{-1,"diferenta",100},
		Words{-1,"mare",100},
		Words{-1,"mic",50},
		Words{-1,"fantoma",150},
		Words{-1,"pamant",50},
		Words{-1,"univers",150},
		Words{-1,"mormant",150},
		Words{-1,"Statuia Libertatii",100},
		Words{-1,"credinta",100},
		Words{-1,"idee",100},
		Words{-1,"ventilator",150},
		Words{-1,"feon",100},
		Words{-1,"Facebook",150},
		Words{-1,"portiera",100},
		Words{-1,"motor",100},
		Words{-1,"ghidon",100},
		Words{-1,"parcare",150},
		Words{-1,"gara",100},
		Words{-1,"carte",150},
		Words{ -1,"locuinta",50 },
		Words{ -1,"spiridus",50 },
		Words{ -1,"incarcator",100 },
		Words{ -1,"miraj",50 },
		Words{ -1,"umbra",100 },
		Words{ -1,"pisica",100 },
		Words{ -1,"ghinion",50 },
		Words{ -1,"ecran",100 },
		Words{ -1,"randunica",50 },
		Words{ -1,"Instagram",150 },
		Words{ -1,"vointa",50 },
		Words{ -1,"ciocolata",150 },
		Words{ -1,"budinca",150 },
		Words{ -1,"zi de nastere",150 },
		Words{ -1,"aniversare",50 },
		Words{ -1,"ghirlanda",150 },
		Words{ -1,"familie",150 },
		Words{ -1,"Craciun",150 },
		Words{ -1,"sarmale",150 },
		Words{ -1,"Franta",150 },
		Words{ -1,"napolitane",100 },
		Words{ -1,"Klaus Iohannis",50 },
		Words{ -1,"nume de familie",100 },
		Words{ -1,"carte de identitate",150 },
		Words{ -1,"CNP",100 }, 
		Words{ -1,"veteran",50 },
		Words{ -1,"tanc",100 },
		Words{ -1,"castron",100 },
		Words{ -1,"strachina",50 },
		Words{ -1,"bunic",100 },
		Words{ -1,"frati",100 },
		Words{ -1,"gemeni",100 },
		Words{ -1,"rochie",150 },
		Words{ -1,"papion",150 },
		Words{ -1,"brunet",150 },
		Words{ -1,"gene false",100 },
		Words{ -1,"locatie",50 },
		Words{ -1,"politie",100 },
		Words{ -1,"IKEA",100 },
		Words{ -1,"chifle",150 },
		Words{ -1,"metrou",100 },
		Words{ -1,"Carrefour",150 },
		Words{ -1,"Auchan",100 },
		Words{ -1,"mango",100 },
		Words{ -1,"papaya",100 },
		Words{ -1,"parfum",150 },
		Words{ -1,"mireasma",50 },
		Words{ -1,"teapa",50 },
		Words{ -1,"Vlad Tepes",100 },
		Words{ -1,"vampir",100 },
		Words{ -1,"rotund",50 },
		Words{ -1,"scrisoare",100 },
		Words{ -1,"cerc",100 },
		Words{ -1,"verde",50 },
		Words{ -1,"masca",100 },
		Words{ -1,"bal mascat",50 },
		Words{ -1,"plita",100 },
		Words{ -1,"bucatar",150 },
		Words{ -1,"salata",150 },
		Words{ -1,"viroza",50 },
		Words{ -1,"coacaze",100 },
		Words{ -1,"magnolie",50 },
		Words{ -1,"orhidee",50 },
		Words{ -1,"Ziua Mamei",100 },
		Words{ -1,"copil",150 },
		Words{ -1,"stralucitor",100 },
		Words{ -1,"argint",100 },
		Words{ -1,"casatorie",150 },
		Words{ -1,"teava",50 },
		Words{ -1,"interfon",150 },
		Words{ -1,"sonerie",100 },
		Words{ -1,"bomboane",150 },
		Words{ -1,"ambalaj",150 },
		Words{ -1,"cadou",150 },
		Words{ -1,"Mos Craciun",150 },
		Words{ -1,"priza",150 },
		Words{ -1,"mici cu mustar",150 },
		Words{ -1,"degustator de vin",100 },
		Words{ -1,"scut",150 },
		Words{ -1,"craniu",150 },
		Words{ -1,"primarie",150 },
		Words{ -1,"vacanta",100 },
		Words{ -1,"Maldive",50 },
		Words{ -1,"palmier",100 },
		Words{ -1,"ocean",100 },
		Words{ -1,"continent",100 },
		Words{ -1,"America",150 },
		Words{ -1,"pizza",150 },
		Words{ -1,"tomberon",150 },
		Words{ -1,"marmelada",100 },
		Words{ -1,"mic dejun",150 },
		Words{ -1,"orez cu lapte",100 },
		Words{ -1,"fructiera",100 },
		Words{ -1,"scortisoara",50 },
		Words{ -1,"piper",150 },
		Words{ -1,"mucenici",100 }, 
		Words{ -1,"pasta de tomate",100 },
		Words{ -1,"sos de rosii",150 },
		Words{ -1,"sah",150 },
		Words{ -1,"regina",150 },
		Words{ -1,"cal",100 },
		Words{ -1,"Arc de Triumf",100 },
		Words{ -1,"Poarta Sarutului",50 },
		Words{ -1,"Coloana Infinitului",50 },
		Words{ -1,"Cleopatra",50 },
		Words{ -1,"calcai",50 },
		Words{ -1,"Medusa",100 },
		Words{ -1,"meduza",150 },
		Words{ -1,"caracatita",100 },
		Words{ -1,"balena",100 },
		Words{ -1,"pestera",100 },
		Words{ -1,"pustnic",50 },
		Words{ -1,"biliard",150 },
		Words{ -1,"bula",100 },
		Words{ -1,"iarba",150 },
		Words{ -1,"gazon",100 },
		Words{ -1,"sapa",150 },
		Words{ -1,"lopata",150 },
		Words{ -1,"masina de tuns iarba",50 },
		Words{ -1,"Mihai Eminescu",50 },
		Words{ -1,"Veronica Micle",50 },
		Words{ -1,"Amintiri din copilarie",50 },
		Words{ -1,"vanatoare",50 },
		Words{ -1,"prada",50 },
		Words{ -1,"regat",100 },
		Words{ -1,"imparat",150 },
		Words{ -1,"Harap Alb",50 },
		Words{ -1,"unghii",150 },
		Words{ -1,"buze",150 },
		Words{ -1,"deget de la picior",100 },
		Words{ -1,"deget inelar",100 },
		Words{ -1,"deget mare",100 },
		Words{ -1,"deget mic",100 },
		Words{ -1,"tort",150 },
		Words{ -1,"frisca",150 },
		Words{ -1,"Starbucks",150 },
		Words{ -1,"KFC",100 },
		Words{ -1,"jandarmerie",100 },
		Words{ -1,"masina de pompieri",150 },
		Words{ -1,"urgente",100 },
		Words{ -1,"cinema",150 },
		Words{ -1,"erou",50 },
		Words{ -1,"vapor",150 },
		Words{ -1,"pirat",150 },
		Words{ -1,"ciclop",150 }
	};
	storage.insert_range(words.begin(), words.end());
}

AddChoosenWord::AddChoosenWord(Storage& storage)
	: m_db{ storage }
{
}

crow::response AddChoosenWord::operator()(const crow::request& req) const
{
	auto bodyArgs = parseUrlArgs(req.body);
	auto end = bodyArgs.end();
	auto productIdIter = bodyArgs.find("word");
	auto quantityIter = bodyArgs.find("price");
	if (productIdIter != end && quantityIter != end)
	{
		Words sbrow;
		sbrow.word = std::stoi(productIdIter->second);
		sbrow.price = std::stoi(quantityIter->second);
		m_db.insert(sbrow);
	}
	return crow::response(201);
}







